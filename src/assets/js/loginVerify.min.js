$(function(){$(".com_black").attr("disable",true);$(".js_closeBtn").click(function(){$(this).parent().parent().find("input").val("");$(this).parent().parent().find(".js_input").val("");$(this).parent().parent().find("input").attr("aria-invalid","true");$(this).parent().parent().find(".js_input").attr("aria-invalid","true");$(this).hide();$(".js_mySubmit").addClass("disabled");$(this).parents(".js_item_edit").find(".js_mySubmit").addClass("disabled");$(".js_submit").addClass("disabled")});getVoiceCode()});function getVoiceCode(){$(".js_getVerify").click(function(){if($(".js_getVerify").hasClass("disabled")==false){$(".js_procuer_getCode").show()}});var voice_i=60;var timer;$("#procuer-get-voice").click(function(){$(".procuer-get-code1").show();clearInterval(timer);timer=setInterval(function(){voice_i--;if(voice_i<=0){voice_i=60;clearInterval(timer)}},1e3);if(voice_i>0&&voice_i<60){$(".js_collect_text").text("每60秒一次，请稍后再试");input_alert()}})}function phone_verify(obj){var v=$(obj).val();len=v.length;clearTimeout(lt);$(".js_getVerify").val("获取验证码");if(len=="11"){$(".js_getVerify").removeClass("disabled")}else{$(".js_getVerify").addClass("disabled")}wait=60;if(len>11){v=v.substr(0,11);$(obj).val(v);len=v.length}else if(len=="11"&&$(".js_getVerify").val()=="获取验证码"||$(".js_getVerify").val().indexOf("s")==-1){$(".js_phoneError").text("");$(obj).attr("aria-invalid","false");if(len=="11"){$(".js_getVerify").removeClass("disabled")}else{$(".js_getVerify").addClass("disabled")}}else{$(obj).attr("aria-invalid","true");$(".js_getVerify").addClass("disabled")}testbtn()}function phone_verify01(obj){var v=$(obj).val();input_Func(obj);len=v.length;if(len>11){v=v.substr(0,11);$(obj).val(v);len=v.length}if(len=="11"){$(".js_phoneError").text("");$(obj).attr("aria-invalid","false")}else{$(obj).attr("aria-invalid","true")}testbtn02(obj)}function length_verify(obj,k){var v=$(obj).val();input_Func(obj);get_length(v);var len=v.length;if(char_length>0){if(char_length>=k){var str=cut_str(v,k);$(obj).val(str)}}if(browser.versions.android){$(".js_phoneVerify_alert").addClass("position_absolute")}else{$(".js_phoneVerify_alert").removeClass("position_absolute")}}function blurPOS(){$(".js_phoneVerify_alert").removeClass("position_absolute")}var ua=window.navigator.userAgent.toLowerCase();var browser={versions:function(){var u=navigator.userAgent,app=navigator.appVersion;return{trident:u.indexOf("Trident")>-1,presto:u.indexOf("Presto")>-1,webKit:u.indexOf("AppleWebKit")>-1,gecko:u.indexOf("Gecko")>-1&&u.indexOf("KHTML")==-1,mobile:!!u.match(/AppleWebKit.*Mobile.*/),ios:!!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:u.indexOf("Android")>-1||u.indexOf("Linux")>-1,iPhone:u.indexOf("iPhone")>-1,iPad:u.indexOf("iPad")>-1,webApp:u.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};function isphone3(inputString){var partten=/^1[3,4,5,7,8]\d{9}$/;var fl=false;if(partten.test(inputString)){return true}else{return false}}function verify_code01(obj){var v=$(obj).val();var len=$("#verify").val().length;len=parseInt(len);input_Func(obj);if(len>6){v=v.substr(0,6);$(obj).val(v);len=v.length;verifyCodeAddAttr()}else if(len<6){$(obj).attr("aria-invalid","true")}else{$("#verify-error").text("");$(obj).attr("aria-invalid","false")}verifyCodeAddAttr();function verifyCodeAddAttr(){if($(".js_submit.partner-submitBtn").hasClass("disabled")){$(".js_submit.partner-submitBtn").attr("disabled",true)}else{$(".js_submit.partner-submitBtn").removeAttr("disabled")}}testbtn()}function password_verify(obj){input_Func(obj);var v=$(obj).val();var len=$("#password").val().length;len=parseInt(len);if(len>=20){v=v.substr(0,20);$(obj).val(v);len=v.length}else if(len<6){$(obj).attr("aria-invalid","true")}else{$(obj).attr("aria-invalid","false")}testbtn()}function name_verify(obj){var v=$(obj).val();input_Func(obj);get_length(v);var len=$(obj).val().length;if(char_length>0){$(obj).val(v);$(obj).attr("aria-invalid","false")}else{$(obj).attr("aria-invalid","true")}testbtn();testbtn02(obj)}function storeName_verify(obj){var v=$(obj).val();input_Func(obj);get_length(v);var len=$(obj).val().length;if(char_length>0){if(char_length>=10){var str=cut_str(v,10);$(obj).val(str)}$(obj).attr("aria-invalid","false")}else{$(obj).attr("aria-invalid","true")}testbtn()}function address_verify(obj){var v=$(obj).val();input_Func(obj);get_length(v);var len=$(obj).val().length;if(char_length>0){if(char_length>60){var str=cut_str(v,60);$(obj).val(str)}$(obj).attr("aria-invalid","false")}else{$(obj).attr("aria-invalid","true")}testbtn();testbtn02(obj)}function address_Fun(obj,len){var v=$(obj).val();input_Func(obj);get_length(v);var len=$(obj).val().length;if(char_length>0){if(char_length>len){var str=cut_str(v,len);$(obj).val(str)}$(obj).attr("aria-invalid","false")}else{$(obj).attr("aria-invalid","true")}testbtn();testbtn02(obj)}var char_length;function get_length(s){char_length=0;for(var i=0;i<s.length;i++){var son_char=s.charAt(i);try{encodeURI(son_char).length>2?char_length+=1:char_length+=.5}catch(err){char_length+=1}}return char_length}function cut_str(str,len){char_length=0;for(var i=0;i<str.length;i++){var son_str=str.charAt(i);try{encodeURI(son_str).length>2?char_length+=1:char_length+=.5}catch(err){char_length+=1}if(char_length>=len){var sub_len=char_length==len?i+1:i;return str.substr(0,sub_len);break}}}function input_Func(obj){var v=$(obj).val();if(v!=""){$(obj).parent().parent().find(".js_closeBtn").show()}else{$(obj).parent().parent().find(".js_closeBtn").hide()}}function testbtn(){var $errormsg=0;var $input=$(".js_input");for(var i=0;i<$input.length;i++){if($input.eq(i).attr("aria-invalid")=="true"){$errormsg=1;break}}if(!$errormsg){$(".js_submit").removeClass("disabled");$(".js_submit").removeAttr("disabled")}else{$(".js_submit").addClass("disabled");$(".js_submit").attr("disabled",true)}}function testbtn01(){var $errormsg01=0;var $input01=$(".js_alertInput");for(var i=0;i<$input01.length;i++){if($input01.eq(i).attr("aria-invalid")=="true"){$errormsg01=1;break}}if(!$errormsg01){$(".js_submit02").removeClass("disabled");$(".js_submit02").removeAttr("disabled")}else{$(".js_submit02").addClass("disabled");$(".js_submit02").attr("disabled",true)}}function testbtn02(obj){var $errormsg=0;var $input=$(obj).parents(".js_item").find(".js_input");for(var i=0;i<$input.length;i++){if($input.eq(i).attr("aria-invalid")=="true"){$errormsg=1;break}}if(!$errormsg){$(obj).parents(".js_item").find(".js_mySubmit").removeClass("disabled")}else{$(obj).parents(".js_item").find(".js_mySubmit").addClass("disabled")}}var wait=60;var lt;function time(t){clearTimeout(lt);if(wait==0){$(t).val("重新获取");$(".js_getVerify").removeClass("disabled");wait=60}else{$(t).val("重新获取("+wait+"s)");$(".js_getVerify").addClass("disabled");wait--;lt=setTimeout(function(){time(t)},1e3)}}function time1(t){clearTimeout(lt);if(wait<=0){$(t).attr({disabled:false});$(t).val("重新获取");$(".js_getVerify").removeClass("disabled");wait=60}else{$(t).attr({disabled:true});$(t).val("重新获取("+wait+"s)");$(".js_getVerify").addClass("disabled");wait--;lt=setTimeout(function(){time1(t)},1e3)}}function input_alert(){$(".js_collect_alert").fadeIn(500);var t=setTimeout(function(){$(".js_collect_alert").fadeOut(500)},1e3)}function cancelAlert(){$(".js_comBlack").hide();$(".js_hide_com").hide();$("html,body").removeClass("ovfHiden")}